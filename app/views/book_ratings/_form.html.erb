<%= form_with(model: book_rating, local: true, id: 'book_rating_form') do |form| %>
  <% if book_rating.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(book_rating.errors.count, "error") %> prohibited this book_rating from being saved:</h2>

      <ul>
      <% book_rating.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :text %>
    <%= form.text_field :text, id: :book_rating_title %>
  </div>

  <div class="field">
    <%= form.label :stars %>
    <%= form.text_field :stars, id: :book_rating_stars, :onkeypress=> "return isNumberKey(event)" %>
    <%= form.hidden_field :book_id, value: @book_id %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>

<script type="text/javascript">

  function isNumberKey(evt)
  {
     var charCode = (evt.which) ? evt.which : event.keyCode
     if (charCode > 31 && (charCode < 48 || charCode > 57)) {
         alert("Please Enter Only Numeric Value:");
         return false;
     }   
     else if(charCode == 49 || charCode == 50 || charCode == 51){    
        if($('#book_rating_title').val() == ''){
          alert("please enter review");
          return true;
        }
     }
     return true;
  }
</script>